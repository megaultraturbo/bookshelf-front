<!doctype html>
  <html>
    <head>
      <title>Bookshelf - home</title>
      <link rel="stylesheet" href="css\style.css" />
      <link rel="stylesheet" href="css\profile-sidebar.css" />
      <link rel="stylesheet" href="css\bookpage.css" />
    </head>
    <body>
      
      <div id="container">
        <div class="section-multiple">
          <a class="title">New arrivals</a>
          <div class="images-multiple">
            <img
              id="01"
              onclick="bookpage('01')"
              class="image-small round shadow"
              src="https://images.unsplash.com/photo-1617801003287-1a71d7792fdc?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=688&q=80"
            />
            <img
            id="02"
            onclick="bookpage('02')"
              class="image-small round shadow"
              src="https://images.unsplash.com/photo-1617801003287-1a71d7792fdc?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=688&q=80"
            />
            <img
              id="b03"
              class="image-small round shadow"
              src="https://images.unsplash.com/photo-1617801003287-1a71d7792fdc?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=688&q=80"
            />
            <img
              id="b04"
              class="image-small round shadow"
              src="https://images.unsplash.com/photo-1617801003287-1a71d7792fdc?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=688&q=80"
            />
            <img
              id="b05"
              class="image-small round shadow"
              src="https://images.unsplash.com/photo-1617801003287-1a71d7792fdc?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=688&q=80"
            />
          </div>
          <a href="html/catalogue.html" class="see-all round shadow">
            see all
          </a>
        </div>
        <div class="section-single">
          <a class="title">Book of the day</a>
          <!--a href="html/sample-book.html"-->
          <img
            id="b06"
            class="image-single round shadow"
            src="https://images.unsplash.com/photo-1506744038136-46273834b3fb?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxleHBsb3JlLWZlZWR8MXx8fGVufDB8fHx8&w=1000&q=80"
          />
          </!--a>
        </div>
        <div class="section-multiple">
          <a class="title">Picks for you</a>
          <div class="images-multiple">
            <img
              class="image-small round shadow"
              src="https://images-na.ssl-images-amazon.com/images/I/81jAxPkzJHL.jpg"
            />
            <img
              class="image-small round shadow"
              src="https://images-na.ssl-images-amazon.com/images/I/81jAxPkzJHL.jpg"
            />
            <img
              class="image-small round shadow"
              src="https://images-na.ssl-images-amazon.com/images/I/81jAxPkzJHL.jpg"
            />
            <img
              class="image-small round shadow"
              src="https://images-na.ssl-images-amazon.com/images/I/81jAxPkzJHL.jpg"
            />
            <img
              class="image-small round shadow"
              src="https://images-na.ssl-images-amazon.com/images/I/81jAxPkzJHL.jpg"
            />
          </div>
          <a href="html/catalogue.html" class="see-all round shadow">
            see all
          </a>
        </div>
        <div class="section-multiple">
          <a class="title">New on Bookshelf</a>
          <div class="images-multiple">
            <img
              class="image-small round shadow"
              src="https://images-na.ssl-images-amazon.com/images/I/81jAxPkzJHL.jpg"
            />
            <img
              class="image-small round shadow"
              src="https://images-na.ssl-images-amazon.com/images/I/81jAxPkzJHL.jpg"
            />
            <img
              class="image-small round shadow"
              src="https://images-na.ssl-images-amazon.com/images/I/81jAxPkzJHL.jpg"
            />
            <img
              class="image-small round shadow"
              src="https://images-na.ssl-images-amazon.com/images/I/81jAxPkzJHL.jpg"
            />
            <img
              class="image-small round shadow"
              src="https://images-na.ssl-images-amazon.com/images/I/81jAxPkzJHL.jpg"
            />
          </div>
          <a href="html/catalogue.html" class="see-all round shadow">
            see all
          </a>
        </div>
      </div>
      <nav>
        <!-- profil - pokazanie menu, zasysanie danych z xml -->
        <a id="profileButton" onclick="profileSB.style.visibility='visible'; update('user1.xml');">
        <div class="navbutton round shadow">
          <img class="navicon" src="resources\icons\profile.png"></img>
          profile
        </div>
        </a>
        <a>
        <div class="navbutton round shadow">
          <img class="navicon" src="resources\icons\shelf.png"></img>
          your shelf
        </div>
        </a>
        <a>
        <div class="navbutton round shadow">
          <img class="navicon"
          src="resources\icons\search.png"></img>
          <a>search</a>
        </div>
        </a>
      </nav>
      <!-- profil - wstecz -->
      <div id="profileSB">
        <button class="back" onclick="profileSB.style.visibility='hidden';">
          
          <span class="backicon">
            <ion-icon name="arrow-back-outline"></ion-icon></span>
            <span class="backtext">Back</span>
        </button>
        <div class="details">
          <img src="../resources/icons/profile.png" id="pfp" />
          <br>
          <a id="username"><strong>username</strong></a>
          <br>
          <a id="bio"
            >user bio
          </a>
        </div>
      </div>
      <!-- szczegoly ksaizki i tlo -->
      <div id="screen">
        <div id="bookpage">
          <a id="title">title</a>
          <a id="author">author</a>
          <a id="desc">desc</a>
        </div>
      </div>
      <header class="shadow">
        <logo class="logo-text">
          <a class="button">Bookshelf</a>
        </logo>
      </header>
      <footer>
        <div class="footer-text">
          <a class="title" href="/html/about.html">About Bookshelf</a>
          <br>
          <a>
            copyright jakub wanat 101471. fajowa stronka fajowe ksiÄ…Å¼ki ðŸ’¯ðŸ¥¶
          </a>
        </div>
      </footer>
      <script type="module" src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"></script>
      <script nomodule src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.js"></script>
      <script>
        function update() {
        var xhttp = new XMLHttpRequest();
        xhttp.onreadystatechange = function() {
          if (this.readyState == 4 && this.status == 200) {
            console.log("huj");
            showUser(this);
          }
        };
        xhttp.open("GET", "user1.xml", true);
        xhttp.send();
        
      }
      function showUser(xml) {
        var xmlDoc = xml.responseXML;
        var x = xmlDoc.getElementsByTagName("user");
        
        console.log(x[0]);
        // huj czekpoint fr
          var uname = x[0].getAttribute("uname");
          var bio = x[0].getAttribute("bio");
          
          console.log(uname);
          console.log(bio);
        
        document.getElementById("username").innerHTML = uname;
        document.getElementById("bio").innerHTML = bio;
      }
      </script>
      <!-- zaÅ‚adowanie szczegÃ³Å‚Ã³w dot ksiÄ…Å¼ki -->
      <script>
        function bookpage(id) {
          test = id;
        var xhttp = new XMLHttpRequest();
        xhttp.onreadystatechange = function() {
          if (this.readyState == 4 && this.status == 200) {
            console.log("huj book");
            showBook(this, test);
          }
        };
        xhttp.open("GET", "book.xml", true);
        xhttp.send();
        
      }
      function showBook(xml,id) {
        console.log(id);
        var xmlDoc = xml.responseXML;
        console.log(xmlDoc);
        var x = xmlDoc.getElementsByTagName("book");

        var title, author, desc;

        console.log(x[0]);
        var gowno; 
        
        // huj czekpoint fr
        for (var i = 0; i<id; i++){
          gowno = x[i].getAttribute("bookId");
          console.log("pobralem "+gowno);
          if (id == gowno){
            title = x[i].getElementsByTagName("title")[0].childNodes[0].nodeValue;
            author = x[i].getElementsByTagName("author")[0].childNodes[0].nodeValue;
            desc = x[i].getElementsByTagName("desc")[0].childNodes[0].nodeValue;
          }
        }
        console.log(title);
        console.log(author);
        console.log(desc);
        
        document.getElementById("title").innerHTML = title;
        document.getElementById("author").innerHTML = author;
        document.getElementById("desc").innerHTML = desc;
      }
      </script>
    </body>
  </html></d<!doctype
>
